<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Local CSV + DataTables</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.2/css/dataTables.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/2.3.2/js/dataTables.min.js"></script>
</head>
<body>
  <h2>Local CSV DataTable</h2>
  <table id="csvTable" class="display" style="width:100%"></table>

  <script>
    $(async function () {
      const response = await fetch('data.csv');
      const csvText = await response.text();
      const rows = csvText.trim().split('\n').map(row => row.split(','));

      const headers = rows[0];
      const data = rows.slice(1);

      let thead = '<thead><tr>' + headers.map(h => `<th>${h}</th>`).join('') + '</tr></thead>';
      let tbody = '<tbody>' + data.map(row =>
        '<tr>' + row.map(cell => `<td>${cell}</td>`).join('') + '</tr>'
      ).join('') + '</tbody>';

      $('#csvTable').html(thead + tbody);
      $('#csvTable').DataTable({
        pageLength: 10,
        responsive: true
      });
    });
  </script>
</body>
</html>
