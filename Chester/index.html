<!DOCTYPE html>
<html lang="en">
<head>
    <title>Recovery Resources</title>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/css/uikit.min.css" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>

    <!-- UIkit JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/js/uikit-icons.min.js"></script>


    <style>
        body {
            font-family: 'Oxygen';
        }
    </style>
    <script src="data.js"></script>
</head>
<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <br /><br />
                <!-- Begin Page Content -->
                <div class="container-fluid">
                        <div class="card-body">
                            <br />
                            <!-- Search Box -->
                            <div class="uk-container uk-margin">
                                <form class="uk-search uk-search-default" style="width:100%">
                                    <span uk-search-icon></span>
                                    <input class="uk-search-input" type="search" placeholder="Search..." id="search-box" />
                                </form>
                            </div>
                            <div class="uk-container uk-margin">
                                <div class="uk-grid-small uk-child-width-1-3@m js-filter" uk-grid>
                                    <!-- Cards will be populated here -->
                                </div>
                            </div>   
                        </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Bootstrap core JavaScript-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js" integrity="sha512-7Pi/otdlbbCR+LnW+F7PwFcSDJOuUJB3OxtEHbg4vSMvzvJjde4Po1v4BR9Gdc9aXNUNFVUY+SK51wWT8WF0Gg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Core plugin JavaScript-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js" integrity="sha512-0QbL0ph8Tc8g5bLhfVzSqxe9GERORsKhIn1IrpxDAgUsbBGz/V7iSav2zzW325XGd1OMLdL4UiqRJj702IeqnQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Custom scripts for all pages-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-sb-admin-2/4.1.4/js/sb-admin-2.min.js" integrity="sha512-+QnjQxxaOpoJ+AAeNgvVatHiUWEDbvHja9l46BHhmzvP0blLTXC4LsvwDVeNhGgqqGQYBQLFhdKFyjzPX6HGmw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Page level plugins -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js" integrity="sha512-BkpSL20WETFylMrcirBahHfSnY++H2O1W+UnEEO4yNIl+jI2+zowyoGJpbtk6bx97fBXf++WJHSSK2MV4ghPcg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/dataTables.bootstrap4.min.js" integrity="sha512-OQlawZneA7zzfI6B1n1tjUuo3C5mtYuAWpQdg+iI9mkDoo7iFzTqnQHf+K5ThOWNJ9AbXL4+ZDwH7ykySPQc+A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Page level custom scripts -->
    <script>
        // Call the dataTables jQuery plugin
$(document).ready(function() {
  $('#dataTable').DataTable();
});
    </script>
    <script>
        $(document).ready(function () {
    const container = $(".uk-grid-small");
    jsonData.forEach((item) => {
        const populations = item["Populations Served"].split(";").map((pop) => `<span class="uk-label uk-label-danger">${pop.trim()}</span>`).join(" ");
        const counties = item["County"].split(";").map((county) => `<span class="uk-label uk-label-warning">${county.trim()} County</span>`).join(" ");
        const card = `
            <div class="js-filter-item data-county="${item.County}" data-domain="${item.Domain}">
                <div class="uk-card uk-card-default">
                    <div class="uk-card-header">
                        <div class="uk-align-left">
                            <div class="uk-width-auto">
                                <span class="uk-label uk-label-primary">
                                ${item.Domain}
                                </span>
                            </div>
                            <div class="uk-width-auto">
                                <span class="uk-label uk-label-success">
                                ${item.Category}
                                </span>
                            </div>
                        </div>
                        <div class="uk-align-right">
                            <div class="uk-width-auto">
                            ${counties}
                            </div>
                        </div>
                    </div>
                    <div class="uk-card-body">
                        <h3 class="uk-card-title">${item["Location Name"]}</h3>
                        <h5>${item.Organization}</h5>
                        ${item.Image ? ` <img src = "${item.Image}"
        alt = "Logo"
        style = "max-width:100px; max-height:100px; float:left; margin-right:10px;" > ` : ""}
                        <p><strong>Phone:</strong> ${item.Phone}</p>
                        <p>${item.Address}</p>
                        <p>${item.City}, ${item.State} ${item["Zip Code"]}</p>
                        <br />
                        <p><strong>Populations Served:</strong> ${populations}</p>
                        <br />
                        <a href="${item.Website}" target="_blank">Website</a>
                    </div>
                </div>
            </div>
        `;
        container.append(card);
    });
    // Search functionality
    $("#search-box").on("keyup", function () {
        const searchTerm = $(this).val().toLowerCase();
        $(".js-filter-item").each(function () {
            const text = $(this).text().toLowerCase();
            $(this).toggle(text.includes(searchTerm));
        });
    });
    // Filter functionality
    $(".filter-btn").on("click", function () {
        const filterType = $(this).data("filter");
        const filterValue = $(this).data("value");
        if (filterValue === "all") {
            $(".js-filter-item").show();
        }
        else {
            $(".js-filter-item").hide().filter(function () {
                return $(this).data(filterType) === filterValue;
            }).show();
        }
    });
});
    </script>
</body>

</html>